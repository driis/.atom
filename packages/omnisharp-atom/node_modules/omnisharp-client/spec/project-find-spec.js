var chai_1 = require('chai');
var path_1 = require('path');
var project_finder_1 = require('../lib/project-finder');
describe("Project Finder", function () {
    it('should support files existing in the same folder', function () {
        var csproj = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/csproj'), console);
        chai_1.expect(csproj).to.not.be.null;
        chai_1.expect(csproj).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/csproj'));
        var csproj = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/csproj/'), console);
        chai_1.expect(csproj).to.not.be.null;
        chai_1.expect(csproj).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/csproj'));
        var csx = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/csx'), console);
        chai_1.expect(csx).to.not.be.null;
        chai_1.expect(csx).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/csx'));
        var csx = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/csx/'), console);
        chai_1.expect(csx).to.not.be.null;
        chai_1.expect(csx).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/csx'));
        var global = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/global'), console);
        chai_1.expect(global).to.not.be.null;
        chai_1.expect(global).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/global'));
        var global = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/global/'), console);
        chai_1.expect(global).to.not.be.null;
        chai_1.expect(global).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/global'));
        var project = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/project'), console);
        chai_1.expect(project).to.not.be.null;
        chai_1.expect(project).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/project'));
        var project = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/project/'), console);
        chai_1.expect(project).to.not.be.null;
        chai_1.expect(project).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/project'));
        var solution = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/solution'), console);
        chai_1.expect(solution).to.not.be.null;
        chai_1.expect(solution).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/solution'));
        var solution = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/same-folder/solution/'), console);
        chai_1.expect(solution).to.not.be.null;
        chai_1.expect(solution).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/same-folder/solution'));
    });
    it('should find projects up the folder heirarchy if not found', function () {
        var csproj = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/global-root-folder'), console);
        chai_1.expect(csproj).to.not.be.null;
        chai_1.expect(csproj).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/global-root-folder'));
        var csx = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/global-root-folder/csx'), console);
        chai_1.expect(csx).to.not.be.null;
        chai_1.expect(csx).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/global-root-folder/csx'));
        var global = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/global-root-folder/global'), console);
        chai_1.expect(global).to.not.be.null;
        chai_1.expect(global).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/global-root-folder/global'));
        var project = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/global-root-folder'), console);
        chai_1.expect(project).to.not.be.null;
        chai_1.expect(project).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/global-root-folder'));
        var solution = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/global-root-folder/solution'), console);
        chai_1.expect(solution).to.not.be.null;
        chai_1.expect(solution).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/global-root-folder/solution'));
        var csproj = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder'), console);
        chai_1.expect(csproj).to.not.be.null;
        chai_1.expect(csproj).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder'));
        var csx = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder/csx'), console);
        chai_1.expect(csx).to.not.be.null;
        chai_1.expect(csx).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder/csx'));
        var global = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder/global'), console);
        chai_1.expect(global).to.not.be.null;
        chai_1.expect(global).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder/global'));
        var project = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder'), console);
        chai_1.expect(project).to.not.be.null;
        chai_1.expect(project).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder'));
        var solution = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder/solution'), console);
        chai_1.expect(solution).to.not.be.null;
        chai_1.expect(solution).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/csx-root-folder/solution'));
        var csproj = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder'), console);
        chai_1.expect(csproj).to.not.be.null;
        chai_1.expect(csproj).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder'));
        var csx = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder/csx'), console);
        chai_1.expect(csx).to.not.be.null;
        chai_1.expect(csx).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder/csx'));
        var global = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder/global'), console);
        chai_1.expect(global).to.not.be.null;
        chai_1.expect(global).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder/global'));
        var project = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder'), console);
        chai_1.expect(project).to.not.be.null;
        chai_1.expect(project).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder'));
        var solution = project_finder_1.findProject(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder/solution'), console);
        chai_1.expect(solution).to.not.be.null;
        chai_1.expect(solution).to.be.eql(path_1.join(__dirname, 'fixture/project-finder/solution-root-folder/solution'));
    });
});
